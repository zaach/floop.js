
DEFINE PROCEDURE ''DIVIDE'' [DIVIDEND, DIVISOR]:
  BLOCK 0: BEGIN
    IF DIVISOR < 1, THEN: QUIT BLOCK 0;
    CELL(0) <= DIVIDEND;
    LOOP AT MOST DIVIDEND TIMES:
      BLOCK 1: BEGIN
        IF CELL(0) < DIVISOR, THEN: QUIT BLOCK 0;
        CELL(0) <= MINUS[CELL(0), DIVISOR];
        OUTPUT <= OUTPUT + 1;
      BLOCK 1: END;
  BLOCK 0: END.

DEFINE PROCEDURE ''PERFECT?'' [N]:
BLOCK 0: BEGIN
  CELL(0) <= 0;
  CELL(1) <= 0;
  LOOP DIVIDE [N,2] TIMES:
  BLOCK 1: BEGIN
    CELL(1) <= CELL(1) + 1;
    IF REMAINDER[N,CELL(1)] = 0, THEN: CELL(0) <= CELL(0) + CELL(1);
  BLOCK 1: END;
  IF CELL(0) = N, THEN: OUTPUT <= YES;
BLOCK 0: END.

